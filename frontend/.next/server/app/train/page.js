(()=>{var e={};e.id=127,e.ids=[127],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1387:(e,r,t)=>{"use strict";t.d(r,{ChatTrainer:()=>s});var a=t(2907);let s=(0,a.registerClientReference)(function(){throw Error("Attempted to call ChatTrainer() from the server but ChatTrainer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\vedch\\Desktop\\Bias-Removal-Prompt-Game\\Bias-Removal-Prompt-Game\\frontend\\components\\chat-trainer.tsx","ChatTrainer");(0,a.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\vedch\\\\Desktop\\\\Bias-Removal-Prompt-Game\\\\Bias-Removal-Prompt-Game\\\\frontend\\\\components\\\\chat-trainer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\vedch\\Desktop\\Bias-Removal-Prompt-Game\\Bias-Removal-Prompt-Game\\frontend\\components\\chat-trainer.tsx","default")},2034:(e,r,t)=>{"use strict";t.d(r,{ChatTrainer:()=>S});var a=t(687),s=t(3210),n=t(4934),i=t(5192),o=t(5616),l=t(1273),d=t(4163),c="Progress",[u,m]=(0,l.A)(c),[p,x]=u(c),h=s.forwardRef((e,r)=>{var t,s;let{__scopeProgress:n,value:i=null,max:o,getValueLabel:l=g,...c}=e;(o||0===o)&&!y(o)&&console.error((t=`${o}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=y(o)?o:100;null===i||w(i,u)||console.error((s=`${i}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=w(i,u)?i:null,x=j(m)?l(m,u):void 0;return(0,a.jsx)(p,{scope:n,value:m,max:u,children:(0,a.jsx)(d.sG.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":j(m)?m:void 0,"aria-valuetext":x,role:"progressbar","data-state":b(m,u),"data-value":m??void 0,"data-max":u,...c,ref:r})})});h.displayName=c;var f="ProgressIndicator",v=s.forwardRef((e,r)=>{let{__scopeProgress:t,...s}=e,n=x(f,t);return(0,a.jsx)(d.sG.div,{"data-state":b(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:r})});function g(e,r){return`${Math.round(e/r*100)}%`}function b(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function j(e){return"number"==typeof e}function y(e){return j(e)&&!isNaN(e)&&e>0}function w(e,r){return j(e)&&!isNaN(e)&&e<=r&&e>=0}v.displayName=f;var N=t(6241);function P({className:e,value:r,...t}){return(0,a.jsx)(h,{"data-slot":"progress",className:(0,N.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:(0,a.jsx)(v,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}var k=t(9556);let C={gender:"gpt4-gender","sexual-orientation":"llama3-sexual",age:"gemini-age"};function S(){let[e,r]=(0,s.useState)(null),[t,l]=(0,s.useState)([]),[d,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),[p,x]=(0,s.useState)(null),[h,f]=(0,s.useState)(""),[v,g]=(0,s.useState)(null),[b,j]=(0,s.useState)(null),[y,w]=(0,s.useState)([]),S=(0,s.useRef)(null);async function R(e){if(!u){r(e),l([]),f(""),g(null),j(null),x(null);try{encodeURIComponent(e);let{sentence:r}=await (0,k.GC)(e);f(r),r&&l([{id:crypto.randomUUID(),role:"ai",content:`Here's a sentence that might have some bias:

"${r}"

Pick a minimal change and tell me how to rewrite it to be fairer.`}])}catch(e){x(e?.message||"Failed to fetch a sample sentence.")}}}let A=(0,s.useMemo)(()=>!!e&&!!h&&d.trim().length>0&&!u,[e,h,d,u]);async function B(r){if(r.preventDefault(),!A||!e)return;m(!0),x(null);let t={id:crypto.randomUUID(),role:"user",content:d};l(e=>[...e,t]),c("");try{let r=await (0,k.Zf)({mode:C[e],original:h,instruction:d,messages:[]}),t=r?.reply??"Thanks! I evaluated your instruction and applied a fairer rewrite.",a="number"==typeof r?.score?100*r.score:0,s=!!r?.passed,n="number"==typeof r?.points_awarded?r.points_awarded:0,i={id:crypto.randomUUID(),role:"ai",content:t,biasScore:a??void 0};if(l(e=>[...e,i]),"number"==typeof a&&g(a),"number"==typeof a){let r={sentence:h,newScore:a,at:new Date().toISOString()};w(e=>[r,...e.slice(0,19)]),window.dispatchEvent(new CustomEvent("bias-history-add",{detail:{original:h,bias_type:_(e),original_score:void 0,rewrite_score:a,created_at:r.at}}))}s&&j({points:n})}catch(e){x(e?.message||"Request failed.")}finally{m(!1)}}return(0,a.jsxs)("div",{className:"flex relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-h-[calc(100vh-80px)]",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-border bg-card/50 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-foreground",children:"Bias Type:"}),(0,a.jsx)("div",{className:"flex gap-2 bg-muted/50 p-1.5 rounded-full",children:[{value:"gender",label:"Gender"},{value:"sexual-orientation",label:"Sexual Orientation"},{value:"age",label:"Age"}].map(r=>(0,a.jsx)("button",{onClick:()=>R(r.value),className:(0,N.cn)("px-5 py-2.5 rounded-full text-sm font-bold transition-all",e===r.value?"bg-primary text-primary-foreground shadow":"bg-transparent text-muted-foreground hover:text-foreground hover:bg-muted/80"),children:r.label},r.value))})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",id:"chat-area",children:[!e&&0===t.length&&(0,a.jsx)(i.Zp,{className:"p-6 text-sm text-muted-foreground",children:"Choose a bias type above to start a session."}),t.map(e=>(0,a.jsx)("div",{className:(0,N.cn)("flex","user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:(0,N.cn)("max-w-[80%] rounded-2xl px-5 py-4 shadow","user"===e.role?"rounded-br-sm bg-primary text-primary-foreground":"rounded-bl-sm bg-card border text-card-foreground"),children:[(0,a.jsx)("p",{className:"text-sm whitespace-pre-line",children:e.content}),"number"==typeof e.biasScore&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-emerald-50 rounded-lg border border-emerald-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-emerald-700",children:"New Bias Score"}),(0,a.jsxs)("span",{className:"text-sm font-bold text-emerald-700",children:[e.biasScore,"%"]})]}),(0,a.jsx)("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 bg-emerald-500 rounded-full",style:{width:`${e.biasScore}%`}})})]})]})},e.id)),(0,a.jsx)("div",{ref:S})]})}),(0,a.jsxs)("div",{className:"border-t border-border bg-surface/80 backdrop-blur-sm px-6 py-4",children:[(0,a.jsx)("form",{onSubmit:B,className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(o.T,{value:d,onChange:e=>c(e.target.value),placeholder:"Tell the AI how to minimally rewrite the sentence to remove bias…",rows:3,disabled:!e||u||!h})}),(0,a.jsx)(n.$,{type:"submit",size:"lg",disabled:!A,children:u?"Working…":"Send & Rescore"})]})}),p&&(0,a.jsx)("div",{className:"max-w-4xl mx-auto mt-2 text-sm text-red-600",children:p})]})]}),(0,a.jsxs)("div",{className:"w-80 border-l border-border bg-background overflow-y-auto p-4 space-y-4",children:[(0,a.jsxs)(i.Zp,{className:"p-5",children:[(0,a.jsx)("h3",{className:"text-sm font-bold mb-3",children:"Current Challenge"}),e?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1 font-semibold",children:"Sentence"}),(0,a.jsx)("p",{className:"text-sm text-foreground leading-relaxed",children:h||"—"})]}),"number"==typeof v&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-gray-700",children:"Bias Score"}),(0,a.jsxs)("span",{className:"text-sm font-bold",children:[v,"%"]})]}),(0,a.jsx)(P,{value:v,className:"h-2"})]}),e&&(0,a.jsxs)("div",{className:"inline-block px-3 py-1.5 rounded-full bg-muted text-xs font-bold",children:[_(e)," Bias"]})]}):(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Pick a bias type to begin."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold mb-3 px-1",children:"Past Performance"}),(0,a.jsx)("div",{className:"space-y-2",children:0===y.length?(0,a.jsx)(i.Zp,{className:"p-4 border-dashed",children:(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"No history yet. Start training!"})}):y.map((e,r)=>(0,a.jsxs)(i.Zp,{className:"p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,a.jsx)("p",{className:"text-xs text-foreground line-clamp-2 flex-1",children:e.sentence}),(0,a.jsxs)("div",{className:"text-xs font-bold shrink-0 px-2 py-1 rounded-full bg-muted",children:[e.newScore,"%"]})]}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground",children:new Date(e.at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},r))})]})]}),b&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)(i.Zp,{className:"p-6 w-[420px] space-y-3",children:[(0,a.jsx)("div",{className:"text-lg font-semibold",children:"Great job!"}),(0,a.jsxs)("div",{className:"text-sm",children:["Challenge completed. You earned ",(0,a.jsx)("b",{children:b.points})," points."]}),(0,a.jsx)("div",{className:"flex gap-3 justify-end pt-2",children:(0,a.jsx)(n.$,{onClick:function(){r(null),l([]),f(""),g(null),j(null),x(null),c("")},children:"Start Again"})})]})})]})}function _(e){return"sexual-orientation"===e?"Sexual Orientation":"gender"===e?"Gender":"Age"}},2427:(e,r,t)=>{"use strict";t.d(r,{Sidebar:()=>f});var a=t(687),s=t(5814),n=t.n(s),i=t(6189),o=t(8200),l=t(7268),d=t(8869),c=t(4027),u=t(83),m=t(1012),p=t(6241),x=t(1702);let h=[{href:"/train",label:"Chat Trainer",icon:o.A},{href:"/leaderboard",label:"Leaderboard",icon:l.A,id:"leaderboard-link"},{href:"/profile",label:"Profile",icon:d.A},{href:"/settings",label:"Settings",icon:c.A}];function f(){let e=(0,i.usePathname)(),r=(0,i.useRouter)(),{toast:t}=(0,x.dj)(),s=async()=>{t({title:"Signed out successfully!",description:"See you next time!"}),r.push("/auth")};return(0,a.jsxs)("aside",{className:"w-64 h-screen bg-sidebar border-r border-sidebar-border flex flex-col p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[(0,a.jsx)(m.P.div,{whileHover:{rotate:360,scale:1.1},transition:{duration:.6,type:"spring"},className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary via-secondary to-accent flex items-center justify-center shadow-lg",children:(0,a.jsx)(o.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-sidebar-foreground",children:"AI Bias Trainer"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"For Kids"})]})]}),(0,a.jsx)("nav",{className:"flex-1 space-y-1",children:h.map((r,t)=>{let s=r.icon,i=e===r.href;return(0,a.jsx)(m.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},whileHover:{x:8,scale:1.02},whileTap:{scale:.98},children:(0,a.jsxs)(n(),{href:r.href,id:r.id,className:(0,p.cn)("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-300 relative overflow-hidden group","focus:outline-none focus:ring-4 focus:ring-purple-400/50",i?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-sidebar-accent-foreground shadow-md":"text-sidebar-foreground/70 hover:bg-gradient-to-r hover:from-purple-500/10 hover:to-pink-500/10 hover:text-sidebar-foreground hover:shadow-sm"),children:[(0,a.jsx)(m.P.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-400/0 via-pink-400/20 to-purple-400/0",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,a.jsx)(m.P.div,{whileHover:{rotate:[0,-10,10,0],scale:1.2},transition:{duration:.4},className:"relative z-10",children:(0,a.jsx)(s,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"font-medium relative z-10",children:r.label}),i&&(0,a.jsx)(m.P.div,{layoutId:"activeIndicator",className:"absolute right-2 w-2 h-2 rounded-full bg-gradient-to-r from-purple-500 to-pink-500",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300}})]})},r.href)})}),(0,a.jsxs)(m.P.button,{onClick:s,whileHover:{scale:1.05,x:4},whileTap:{scale:.95},className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sidebar-foreground/70 hover:bg-gradient-to-r hover:from-orange-500/20 hover:to-purple-500/20 hover:text-sidebar-foreground transition-all duration-300 mt-4 border border-sidebar-border hover:border-orange-500/50 hover:shadow-lg relative overflow-hidden group focus:outline-none focus:ring-4 focus:ring-orange-400/50",children:[(0,a.jsx)(m.P.div,{className:"absolute inset-0 bg-gradient-to-r from-orange-400/0 via-purple-400/20 to-orange-400/0",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}}),(0,a.jsx)(m.P.div,{whileHover:{rotate:180},transition:{duration:.4},className:"relative z-10",children:(0,a.jsx)(u.A,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"font-medium relative z-10",children:"Sign Out"})]})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4004:(e,r,t)=>{Promise.resolve().then(t.bind(t,1387)),Promise.resolve().then(t.bind(t,4033))},4033:(e,r,t)=>{"use strict";t.d(r,{Sidebar:()=>a});let a=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\vedch\\Desktop\\Bias-Removal-Prompt-Game\\Bias-Removal-Prompt-Game\\frontend\\components\\sidebar.tsx","Sidebar")},4934:(e,r,t)=>{"use strict";t.d(r,{$:()=>l});var a=t(687);t(3210);var s=t(8730),n=t(4224),i=t(6241);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:r,size:t,asChild:n=!1,...l}){let d=n?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:r,size:t,className:e})),...l})}},5192:(e,r,t)=>{"use strict";t.d(r,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i});var a=t(687);t(3210);var s=t(6241);function n({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function i({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function o({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...r})}function l({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...r})}function d({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...r})}},5616:(e,r,t)=>{"use strict";t.d(r,{T:()=>n});var a=t(687);t(3210);var s=t(6241);function n({className:e,...r}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}},6740:(e,r,t)=>{Promise.resolve().then(t.bind(t,2034)),Promise.resolve().then(t.bind(t,2427))},8674:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=t(5239),s=t(8088),n=t(8170),i=t.n(n),o=t(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d={children:["",{children:["train",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9800)),"C:\\Users\\vedch\\Desktop\\Bias-Removal-Prompt-Game\\Bias-Removal-Prompt-Game\\frontend\\app\\train\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8014)),"C:\\Users\\vedch\\Desktop\\Bias-Removal-Prompt-Game\\Bias-Removal-Prompt-Game\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\vedch\\Desktop\\Bias-Removal-Prompt-Game\\Bias-Removal-Prompt-Game\\frontend\\app\\train\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/train/page",pathname:"/train",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9556:(e,r,t)=>{"use strict";t.d(r,{$P:()=>d,GC:()=>m,Vg:()=>l,Zf:()=>p});var a=t(43);let s=process.env.NEXT_PUBLIC_API_BASE||"http://127.0.0.1:8080";if(!s)throw Error("Missing NEXT_PUBLIC_API_BASE (or NEXT_PUBLIC_API_BASE_URL). Create frontend/.env.local with NEXT_PUBLIC_API_BASE=http://127.0.0.1:8080");let n=s.replace(/\/+$/,"");function i(e){let r=e.startsWith("/")?e:`/${e}`;return`${n}${r}`}async function o(e){let r=a.j.currentUser,t=r?await r.getIdToken(!1):null;return{...e||{},headers:{"Content-Type":"application/json",...e?.headers||{},...t?{Authorization:`Bearer ${t}`}:{}}}}async function l(e){let r=i(e),t=await o({method:"GET"});try{let e=await fetch(r,t);if(!e.ok){let r=await c(e);throw Error(`${e.status} ${e.statusText} — ${r}`)}return e.json()}catch(e){throw console.error("apiGet network error",{url:r,base:n,err:e}),Error(`Network error calling ${r}. Check: 1) backend running, 2) CORS, 3) API base in .env.local`)}}async function d(e,r){let t=i(e),a=await o({method:"POST",body:JSON.stringify(r??{})});try{let e=await fetch(t,a);if(!e.ok){let r=await c(e);throw Error(`${e.status} ${e.statusText} — ${r}`)}return e.json()}catch(e){throw console.error("apiPost network error",{url:t,base:n,err:e}),Error(`Network error calling ${t}. Check: 1) backend running, 2) CORS, 3) API base in .env.local`)}}async function c(e){try{return await e.text()}catch{return""}}let u={gender:"gpt4-gender","sexual-orientation":"llama3-sexual",age:"gemini-age"};async function m(e){let r=["gpt4-gender","llama3-sexual","gemini-age"].includes(e)?e:u[e];try{return await d("/api/sampleSentence",{mode:r})}catch{return await l(`/api/sampleSentence?mode=${encodeURIComponent(r)}`)}}async function p(e){return d("/api/turn",{messages:[],...e})}},9800:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(7413),s=t(4033),n=t(1387);function i(){return(0,a.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,a.jsx)(s.Sidebar,{}),(0,a.jsx)(n.ChatTrainer,{})]})}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[244,796,754],()=>t(8674));module.exports=a})();