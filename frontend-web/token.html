<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Firebase ID Token Grabber</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>body{font-family:system-ui;margin:2rem} textarea{width:100%;height:150px}</style>
  </head>
  <body>
    <h1>Get Firebase ID Token</h1>
    <p>Sign in with Google, then copy the ID token below.</p>
    <button id="btn">Sign in with Google</button>
    <h3>Token:</h3>
    <textarea id="out" readonly></textarea>

    <!-- Firebase v9 compat (CDN) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script>
      // TODO: replace with your firebaseConfig from Firebase console
      const firebaseConfig = {
        apiKey: "AIzaSyAZdaLG76ByWdh3XFgmyluzBaMVfbYzEcc",
        authDomain: "bias-removal-prompt-game.firebaseapp.com",
        projectId: "bias-removal-prompt-game",
        storageBucket: "bias-removal-prompt-game.firebasestorage.app",
        messagingSenderId: "724012341365",
        appId: "1:724012341365:web:91b226d6c766f2e998c03c",
        measurementId: "G-941B731L7D"
        };

      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const provider = new firebase.auth.GoogleAuthProvider();

      async function getToken() {
        await auth.signInWithPopup(provider);
        const token = await auth.currentUser.getIdToken(true);
        document.getElementById('out').value = token;
      }
      document.getElementById('btn').onclick = getToken;
    </script>
  </body>
</html>
